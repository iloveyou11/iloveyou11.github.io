<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><link rel="stylesheet" href="/js/fancybox/dist/jquery.fancybox.min.css"><title>typescript详解 | blog</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="keywords" content="YP's Blog"><meta name="description" content="基本配置（自动编译）vscode 配置自动编译 ts 代码运行 tsc –init，生成配置文件，改 outDir运行任务，选择监视 tsconfig一、typescript 的数据类型(存在类型校验)布尔、数字、字符串123let flag: boolean = true;let num: number = 123;let str: string = &quot;hello&quot;;数组123let arr1:"><meta name="keywords" content="web"><meta property="og:type" content="article"><meta property="og:title" content="typescript详解"><meta property="og:url" content="http://localhost:4000/2019/07/29/typescript详解/index.html"><meta property="og:site_name" content="blog"><meta property="og:description" content="基本配置（自动编译）vscode 配置自动编译 ts 代码运行 tsc –init，生成配置文件，改 outDir运行任务，选择监视 tsconfig一、typescript 的数据类型(存在类型校验)布尔、数字、字符串123let flag: boolean = true;let num: number = 123;let str: string = &quot;hello&quot;;数组123let arr1:"><meta property="og:locale" content="default"><meta property="og:updated_time" content="2020-09-11T07:49:55.933Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="typescript详解"><meta name="twitter:description" content="基本配置（自动编译）vscode 配置自动编译 ts 代码运行 tsc –init，生成配置文件，改 outDir运行任务，选择监视 tsconfig一、typescript 的数据类型(存在类型校验)布尔、数字、字符串123let flag: boolean = true;let num: number = 123;let str: string = &quot;hello&quot;;数组123let arr1:"><link rel="icon" href="/favicon.ico"><link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/css/style.css"><script src="/js/pace.min.js"></script></head><script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script><script src="/js/fancybox/dist/jquery.fancybox.min.js"></script><script src="/js/wrapimg.js"></script></html><body><div id="container"><header id="header"><div id="banner"></div><div id="header-outer"><div id="header-menu" class="header-menu-pos animated"><div class="header-menu-container"><a href="/" class="left"><span class="site-title">YP&#39;s Blog</span></a><nav id="header-menu-nav" class="right"><a href="/"><i class="fa fa-home"></i> <span>主页</span> </a><a href="/categories/前端/"><i class="fa fa-前端"></i> <span>前端</span> </a><a href="/categories/源码/"><i class="fa fa-源码"></i> <span>源码</span> </a><a href="/categories/ML/"><i class="fa fa-ML"></i> <span>ML</span> </a><a href="/categories/CV/"><i class="fa fa-CV"></i> <span>CV</span> </a><a href="/categories/NLP/"><i class="fa fa-NLP"></i> <span>NLP</span> </a><a href="/categories/计算机/"><i class="fa fa-计算机"></i> <span>计算机</span> </a><a href="/categories/专题/"><i class="fa fa-专题"></i> <span>专题</span> </a><a href="/categories/感想/"><i class="fa fa-感想"></i> <span>感想</span> </a><a href="/categories/语言/"><i class="fa fa-语言"></i> <span>语言</span></a></nav><a class="mobile-header-menu-button"><i class="fa fa-bars"></i></a></div></div><div id="header-row"><div id="logo"><a href="/"><img src="/images/logo.png" alt="logo"></a></div><div class="header-info"><div id="header-title"><h2>YP&#39;s Blog</h2></div><div id="header-description"><h3>一个专注前端智能化领域的技术博客</h3></div></div><nav class="header-nav"><div class="social"><a title="个人主页" target="_blank" href="https://iloveyou11.github.io/"><i class="fa fa-home fa-2x"></i></a> <a title="Github" target="_blank" href="https://github.com/iloveyou11"><i class="fa fa-github fa-2x"></i></a> <a title="掘金" target="_blank" href="https://juejin.im/user/254742428124055/posts"><i class="fa fa-linkedin fa-2x"></i></a> <a title="E-Mail" target="_blank" href="mailto:yp3235768@163.com"><i class="fa fa-mail fa-2x"></i></a></div></nav></div></div></header><div class="outer"><section id="main" class="body-wrap"><article id="post-typescript详解" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-inner"><header class="article-header"><h1 class="post-title" itemprop="name">typescript详解</h1><div class="post-title-bar"><ul><li><i class="fa fa-book"></i> <a href="/categories/前端/">前端</a></li><li><i class="fa fa-calendar"></i> 2019-07-29</li></ul></div><div style="margin-top:10px"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i> <span class="post-meta-item-text">字数统计: </span><span class="post-count">7.4k字</span> </span></span><span class="post-time">&nbsp; | &nbsp; <span class="post-meta-item-icon"><i class="fa fa-hourglass-half"></i> <span class="post-meta-item-text">阅读时长: </span><span class="post-count">35分</span></span></span></div></header><div class="article-entry post-content" itemprop="articleBody"><div id="toc"><ol class="toc"><li class="toc-item toc-level-5"><a class="toc-link" href="#基本配置（自动编译）"><span class="toc-text">基本配置（自动编译）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#一、typescript-的数据类型-存在类型校验"><span class="toc-text">一、typescript 的数据类型(存在类型校验)</span></a></li></ol><li class="toc-item toc-level-4"><a class="toc-link" href="#二、typescript-函数"><span class="toc-text">二、typescript 函数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#三、typescript-中类"><span class="toc-text">三、typescript 中类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#四、typescript-接口（定义标准）"><span class="toc-text">四、typescript 接口（定义标准）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#五-typescript-泛型"><span class="toc-text">五 typescript 泛型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#六、其他补充"><span class="toc-text">六、其他补充</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#七、高级特性"><span class="toc-text">七、高级特性</span></a></li></ol></li></ol></li></div><a id="more"></a><h5 id="基本配置（自动编译）"><a href="#基本配置（自动编译）" class="headerlink" title="基本配置（自动编译）"></a>基本配置（自动编译）</h5><p><strong>vscode 配置自动编译 ts 代码</strong></p><ol><li>运行 tsc –init，生成配置文件，改 outDir</li><li>运行任务，选择监视 tsconfig</li></ol><!-- more --><h5 id="一、typescript-的数据类型-存在类型校验"><a href="#一、typescript-的数据类型-存在类型校验" class="headerlink" title="一、typescript 的数据类型(存在类型校验)"></a>一、typescript 的数据类型(存在类型校验)</h5><p><strong>布尔、数字、字符串</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> flag: <span class="built_in">boolean</span> = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">let</span> num: <span class="built_in">number</span> = <span class="number">123</span>;</span><br><span class="line"><span class="keyword">let</span> str: <span class="built_in">string</span> = <span class="string">"hello"</span>;</span><br></pre></td></tr></table></figure><p><strong>数组</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1: <span class="built_in">number</span>[] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> arr2: <span class="built_in">any</span>[] = [<span class="number">1</span>, <span class="string">"ji"</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> arr3: <span class="built_in">Array</span>&lt;<span class="built_in">number</span>&gt; = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br></pre></td></tr></table></figure><p><strong>元祖(属于数组的一种)</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> tuple: [<span class="built_in">number</span>, <span class="built_in">string</span>] = [<span class="number">123</span>, <span class="string">"hello"</span>];</span><br></pre></td></tr></table></figure><p><strong>枚举</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> Status &#123;</span><br><span class="line">  success = <span class="number">1</span>,</span><br><span class="line">  error = <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">enum</span> Color &#123;</span><br><span class="line">  blue,</span><br><span class="line">  red,</span><br><span class="line">  white</span><br><span class="line">&#125; <span class="comment">//如果未赋值，结果打印下标</span></span><br><span class="line"><span class="comment">//let s: Status = Status.success</span></span><br><span class="line"><span class="comment">//console.log(s);</span></span><br></pre></td></tr></table></figure><p><strong>对象</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="function"><span class="keyword">function</span> <span class="title">create</span>(<span class="params">o: object | <span class="literal">null</span></span>): <span class="title">void</span></span>;</span><br><span class="line">create(&#123; prop: <span class="number">0</span> &#125;);</span><br></pre></td></tr></table></figure><p><strong>【特殊类型】</strong></p><p><strong>任意类型any</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> random: <span class="built_in">any</span> = <span class="number">123</span>;</span><br><span class="line"><span class="comment">//null和undefined 其他类型的子类型</span></span><br><span class="line"><span class="keyword">let</span> num1: <span class="built_in">number</span> | <span class="literal">undefined</span>; <span class="comment">//定义未赋值就是undefined</span></span><br><span class="line"><span class="keyword">let</span> num2: <span class="built_in">number</span> | <span class="literal">null</span> | <span class="literal">undefined</span>;</span><br></pre></td></tr></table></figure><p><strong>null和undefined</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num: <span class="built_in">number</span>;</span><br><span class="line"><span class="keyword">let</span> str: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这些类型能被赋予</span></span><br><span class="line">num = <span class="literal">null</span>;</span><br><span class="line">str = <span class="literal">undefined</span>;</span><br></pre></td></tr></table></figure><p><strong>空类型void(方法没有返回值)</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">run1</span>(<span class="params"></span>): <span class="title">void</span> </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"void"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">run2</span>(<span class="params"></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>never 类型(表示从来不会出现的值，基本用不到)</strong></p><p>一个从来不会有返回值的函数（如：如果函数内含有 while(true) {}）；<br>一个总是会抛出错误的函数（如：function foo() { throw new Error(‘Not Implemented’) }，foo 的返回类型是 never）；</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">error</span>(<span class="params">message: <span class="built_in">string</span></span>): <span class="title">never</span> </span>&#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(message);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//使用场景（详细检查）</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">x: <span class="built_in">string</span> | <span class="built_in">number</span></span>): <span class="title">boolean</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> x === <span class="string">'string'</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> x === <span class="string">'number'</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 如果不是一个 never 类型，这会报错：</span></span><br><span class="line">  <span class="comment">// - 不是所有条件都有返回值 （严格模式下）</span></span><br><span class="line">  <span class="comment">// - 或者检查到无法访问的代码</span></span><br><span class="line">  <span class="comment">// 但是由于 TypeScript 理解 `fail` 函数返回为 `never` 类型</span></span><br><span class="line">  <span class="comment">// 它可以让你调用它，因为你可能会在运行时用它来做安全或者详细的检查。</span></span><br><span class="line">  <span class="keyword">return</span> fail(<span class="string">'Unexhaustive'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fail</span>(<span class="params">message: <span class="built_in">string</span></span>): <span class="title">never</span> </span>&#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(message);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>never 表示一个从来不会优雅的返回的函数时，你可能马上就会想到与此类似的 void，然而实际上，void 表示没有任何类型，never 表示永远不存在的值的类型。</p><p><strong>[其他类型]</strong></p><p><strong>泛型</strong>（在计算机科学中，许多算法和数据结构并不会依赖于对象的实际类型。然而，你仍然会想在每个变量里强制提供约束）</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reverse</span>&lt;<span class="title">T</span>&gt;(<span class="params">items: T[]</span>): <span class="title">T</span>[] </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> toreturn = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = items.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">    toreturn.push(items[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> toreturn;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>联合类型</strong>（在 JavaScript 中，你希望属性为多种类型之一，如字符串或者数组。这就是联合类型所能派上用场的地方）</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">formatCommandline</span>(<span class="params">command: <span class="built_in">string</span>[] | <span class="built_in">string</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> line = <span class="string">''</span>;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> command === <span class="string">'string'</span>) &#123;</span><br><span class="line">    line = command.trim();</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    line = command.join(<span class="string">' '</span>).trim();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// Do stuff with line: string</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>交叉类型</strong>（在 JavaScript 中， extend 是一种非常常见的模式，在这种模式中，你可以从两个对象中创建一个新对象，新对象会拥有着两个对象所有的功能。）</p><figure class="highlight plain"><figcaption><span>JavaScript 中， extend 是一种非常常见的模式，在这种模式中，你可以从两个对象中创建一个新对象，新对象会拥有着两个对象所有的功能。）</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">function extend&lt;T, U&gt;(first: T, second: U): T &amp; U &#123;</span><br><span class="line">  const result = &lt;T &amp; U&gt;&#123;&#125;;</span><br><span class="line">  for (let id in first) &#123;</span><br><span class="line">    (&lt;T&gt;result)[id] = first[id];</span><br><span class="line">  &#125;</span><br><span class="line">  for (let id in second) &#123;</span><br><span class="line">    if (!result.hasOwnProperty(id)) &#123;</span><br><span class="line">      (&lt;U&gt;result)[id] = second[id];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  return result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const x = extend(&#123; a: &apos;hello&apos; &#125;, &#123; b: 42 &#125;);</span><br><span class="line"></span><br><span class="line">// 现在 x 拥有了 a 属性与 b 属性</span><br><span class="line">const a = x.a;</span><br><span class="line">const b = x.b;</span><br></pre></td></tr></table></figure><p>【tips】</p><blockquote><ul><li>如果你需要使用类型注解的层次结构，请使用接口。</li><li>它能使用 implements 和 extends<br>为一个简单的对象类型（像例子中的Coordinates）使用类型别名，仅仅有一个语义化的作用。与此相似，当你想给一个联合类型和交叉类型使用一个语意化的名称时，一个类型别名将会是一个好的选择。</li></ul></blockquote><h4 id="二、typescript-函数"><a href="#二、typescript-函数" class="headerlink" title="二、typescript 函数"></a>二、typescript 函数</h4><p><strong>1、函数声明</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>): <span class="title">string</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">"run"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> fn2 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>): <span class="title">string</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">"run2"</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>2、方法传参</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getInfo1</span>(<span class="params">name: <span class="built_in">string</span>, age: <span class="built_in">number</span></span>): <span class="title">string</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;name&#125;</span>---<span class="subst">$&#123;age&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> getInfo2 = <span class="function"><span class="keyword">function</span>(<span class="params">name: <span class="built_in">string</span>, age: <span class="built_in">number</span></span>): <span class="title">string</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;name&#125;</span>---<span class="subst">$&#123;age&#125;</span>`</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>3、可选参数</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get</span>(<span class="params">name: <span class="built_in">string</span>, age?: <span class="built_in">number</span></span>): <span class="title">string</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (age) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;name&#125;</span>---<span class="subst">$&#123;age&#125;</span>`</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;name&#125;</span>---年龄保密`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>4、默认参数</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get1</span>(<span class="params">name: <span class="built_in">string</span>, age: <span class="built_in">number</span> = 20</span>): <span class="title">string</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;name&#125;</span>---<span class="subst">$&#123;age&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>5、剩余参数</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a: <span class="built_in">number</span>, b: <span class="built_in">number</span>, c: <span class="built_in">number</span></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a + b + c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 三点运算符接收形参</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum1</span>(<span class="params">...result: <span class="built_in">number</span>[]</span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> sum = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; result.length; i++) &#123;</span><br><span class="line">    sum += result[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum2</span>(<span class="params">initNum: <span class="built_in">number</span>, ...result: <span class="built_in">number</span>[]</span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> sum = initNum;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; result.length; i++) &#123;</span><br><span class="line">    sum += result[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>6、函数重载(es5 中同名方法会存在替换)</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">info1</span>(<span class="params">name: <span class="built_in">string</span></span>): <span class="title">string</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">info1</span>(<span class="params">age: <span class="built_in">number</span></span>): <span class="title">number</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">info1</span>(<span class="params">str: <span class="built_in">any</span></span>): <span class="title">any</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> str === <span class="string">"string"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`我叫<span class="subst">$&#123;str&#125;</span>`</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`我的年龄是<span class="subst">$&#123;str&#125;</span>`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//console.log(info1('Amy'));</span></span><br><span class="line"><span class="comment">//console.log(info1(12));</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">info2</span>(<span class="params">name: <span class="built_in">string</span></span>): <span class="title">string</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">info2</span>(<span class="params">name: <span class="built_in">string</span>, age: <span class="built_in">number</span></span>): <span class="title">string</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">info2</span>(<span class="params">name: <span class="built_in">any</span>, age?: <span class="built_in">any</span></span>): <span class="title">any</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (age) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`我叫<span class="subst">$&#123;name&#125;</span>,我的年龄是<span class="subst">$&#123;age&#125;</span>`</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`我叫<span class="subst">$&#123;name&#125;</span>`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 重载</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">padding</span>(<span class="params">all: <span class="built_in">number</span></span>)</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">padding</span>(<span class="params">topAndBottom: <span class="built_in">number</span>, leftAndRight: <span class="built_in">number</span></span>)</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">padding</span>(<span class="params">top: <span class="built_in">number</span>, right: <span class="built_in">number</span>, bottom: <span class="built_in">number</span>, left: <span class="built_in">number</span></span>)</span>;</span><br><span class="line"><span class="comment">// Actual implementation that is a true representation of all the cases the function body needs to handle</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">padding</span>(<span class="params">a: <span class="built_in">number</span>, b?: <span class="built_in">number</span>, c?: <span class="built_in">number</span>, d?: <span class="built_in">number</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (b === <span class="literal">undefined</span> &amp;&amp; c === <span class="literal">undefined</span> &amp;&amp; d === <span class="literal">undefined</span>) &#123;</span><br><span class="line">    b = c = d = a;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (c === <span class="literal">undefined</span> &amp;&amp; d === <span class="literal">undefined</span>) &#123;</span><br><span class="line">    c = a;</span><br><span class="line">    d = b;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    top: a,</span><br><span class="line">    right: b,</span><br><span class="line">    bottom: c,</span><br><span class="line">    left: d</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Overloaded &#123;</span><br><span class="line">  (foo: <span class="built_in">string</span>): <span class="built_in">string</span>;</span><br><span class="line">  (foo: <span class="built_in">number</span>): <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 实现接口的一个例子：</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">stringOrNumber</span>(<span class="params">foo: <span class="built_in">number</span></span>): <span class="title">number</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">stringOrNumber</span>(<span class="params">foo: <span class="built_in">string</span></span>): <span class="title">string</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">stringOrNumber</span>(<span class="params">foo: <span class="built_in">any</span></span>): <span class="title">any</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> foo === <span class="string">'number'</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> foo * foo;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> foo === <span class="string">'string'</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`hello <span class="subst">$&#123;foo&#125;</span>`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> overloaded: Overloaded = stringOrNumber;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用</span></span><br><span class="line"><span class="keyword">const</span> str = overloaded(<span class="string">''</span>); <span class="comment">// str 被推断为 'string'</span></span><br><span class="line"><span class="keyword">const</span> num = overloaded(<span class="number">123</span>); <span class="comment">// num 被推断为 'number'</span></span><br></pre></td></tr></table></figure><p>TypeScript 中的函数重载没有任何运行时开销。它只允许你记录希望调用函数的方式，并且编译器会检查其余代码。</p><p><strong>7、箭头函数(this 指向上下文)</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  alert(<span class="string">"run"</span>);</span><br><span class="line">&#125;, <span class="number">1000</span>);</span><br></pre></td></tr></table></figure><h5 id="三、typescript-中类"><a href="#三、typescript-中类" class="headerlink" title="三、typescript 中类"></a>三、typescript 中类</h5><p>es5 的继承(原型链+对象冒充实现继承)</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  Person.call(<span class="keyword">this</span>, name, age);</span><br><span class="line">  <span class="comment">//对象冒充(只能继承构造函数中的属性和方法,可以向父类传参)</span></span><br><span class="line">&#125;</span><br><span class="line">Student.prototype = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="comment">//原型链继承(既可以继承构造函数中的属性和方法，也可以继承原型链上的属性和方法,但是实例化时无法向父类传参)</span></span><br><span class="line">Student.prototype = Person.prototype; <span class="comment">//另一种写法</span></span><br></pre></td></tr></table></figure><p><strong>1、定义类</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Person &#123;</span><br><span class="line">  name: <span class="built_in">string</span>; <span class="comment">//省略了public关键字</span></span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  run(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">  &#125;</span><br><span class="line">  getName(): <span class="built_in">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">  &#125;</span><br><span class="line">  setName(name: <span class="built_in">string</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>2、实现继承 extends super</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Student <span class="keyword">extends</span> Person &#123;</span><br><span class="line">​    <span class="keyword">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">​        <span class="keyword">super</span>(name)</span><br><span class="line">​    &#125;</span><br><span class="line">​    **子类扩展方法，子类也可以覆盖父类的方法</span><br><span class="line">​    work(): <span class="built_in">void</span> &#123;</span><br><span class="line">​        alert(<span class="string">'在运动'</span>)</span><br><span class="line">​    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>3、类修饰符(public protected private)</strong><br>public:在类内部、子类、和外部均可以访问<br>protected:在类内部和子类可以访问，外部无法访问<br>private:私有，只有类内部可以访问<br>属性如果不加修饰符，默认是 public</p><p><strong>4、静态属性&amp;&amp;静态方法(直接使用类名调用即可)</strong><br>应用举例(jquery)</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">$</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> Base(element);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//静态方法</span></span><br><span class="line">$.<span class="keyword">get</span> = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Base</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.element = element;</span><br><span class="line">  <span class="keyword">this</span>.css = <span class="function"><span class="keyword">function</span>(<span class="params">attr, value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.element.style.attr = value;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Person1 &#123;</span><br><span class="line">  name: <span class="built_in">string</span>; <span class="comment">//省略了public关键字</span></span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125; <span class="comment">//静态属性</span></span><br><span class="line">  <span class="keyword">static</span> sex = <span class="string">"男"</span>; <span class="comment">//静态方法，无法直接调用类的属性，只能调用静态属性</span></span><br><span class="line">  <span class="keyword">static</span> print(): <span class="built_in">void</span> &#123;</span><br><span class="line">    alert(<span class="string">"静态方法"</span>);</span><br><span class="line">  &#125; <span class="comment">//实例方法</span></span><br><span class="line">  getName(): <span class="built_in">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">  &#125;</span><br><span class="line">  setName(name: <span class="built_in">string</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>5、多态(父类定义方法不去实现，让继承它的子类去实现，每个子类有不同的表现)</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Animal &#123;</span><br><span class="line">  name: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  eat() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"吃的方法"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> Dog <span class="keyword">extends</span> Animal &#123;</span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="keyword">super</span>(name);</span><br><span class="line">  &#125;</span><br><span class="line">  eat() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.name + <span class="string">"吃肉"</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> Cat <span class="keyword">extends</span> Animal &#123;</span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="keyword">super</span>(name);</span><br><span class="line">  &#125;</span><br><span class="line">  eat() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.name + <span class="string">"吃鱼"</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>6、抽象类(abstract 关键字，无法创造抽象类的实例)</strong><br>抽象类和抽象方法用来定义标准，要求子类必须实现抽象类中的所有方法</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> Animal1 &#123;</span><br><span class="line">  <span class="keyword">public</span> name: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">abstract</span> eat(): <span class="built_in">any</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> Dog1 <span class="keyword">extends</span> Animal1 &#123;</span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params">name: <span class="built_in">any</span></span>) &#123;</span><br><span class="line">    <span class="keyword">super</span>(name);</span><br><span class="line">  &#125;</span><br><span class="line">  eat() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;this.name&#125;</span>吃肉`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="四、typescript-接口（定义标准）"><a href="#四、typescript-接口（定义标准）" class="headerlink" title="四、typescript 接口（定义标准）"></a>四、typescript 接口（定义标准）</h5><p><strong>1、属性接口</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//对传入地值进行约束</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">print_label1</span>(<span class="params">label: <span class="built_in">string</span></span>): <span class="title">void</span> </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(label);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">print_label2</span>(<span class="params">labelInfo: &#123; label: <span class="built_in">string</span> &#125;</span>): <span class="title">void</span> </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(labelInfo);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//接口（批量方法约束）</span></span><br><span class="line"><span class="keyword">interface</span> FullName &#123;</span><br><span class="line">  firstname: <span class="built_in">string</span>;</span><br><span class="line">  lastname: <span class="built_in">string</span>; <span class="comment">//可选属性 lastname?: string;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//传到的参数必须包含firstname、lastname</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printName</span>(<span class="params">name: FullName</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;name.firstname&#125;</span>---<span class="subst">$&#123;name.lastname&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>2 函数类型接口</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> encrypt &#123;</span><br><span class="line">  (key: <span class="built_in">string</span>, value: <span class="built_in">string</span>): <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> md5: encrypt = <span class="function"><span class="keyword">function</span>(<span class="params">key: <span class="built_in">string</span>, value: <span class="built_in">string</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> key + value;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> sha1: encrypt = <span class="function"><span class="keyword">function</span>(<span class="params">key: <span class="built_in">string</span>, value: <span class="built_in">string</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> key + <span class="string">"---"</span> + value;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>3 可索引接口(对数组\对象的约束,不常用)</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> UserArr &#123;</span><br><span class="line">  [index: <span class="built_in">number</span>]: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> arr: UserArr = [<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> UserObj &#123;</span><br><span class="line">  [index: <span class="built_in">string</span>]: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj: UserObj = &#123; name: <span class="string">"zhangsan"</span>, age: <span class="string">"12"</span> &#125;;</span><br></pre></td></tr></table></figure><p><strong>4 类类型接口(对类的约束,和抽象类很相似)</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> AnimalI &#123;</span><br><span class="line">  name: <span class="built_in">string</span>;</span><br><span class="line">  eat(str: <span class="built_in">string</span>): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> a1 <span class="keyword">implements</span> AnimalI &#123;</span><br><span class="line">  name: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  eat(food: <span class="built_in">string</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`我是<span class="subst">$&#123;this.name&#125;</span>,我吃<span class="subst">$&#123;food&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>5 接口扩展(接口集成接口,类实现接口时需要实现所有的方法)</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Ani &#123;</span><br><span class="line">  eat(): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//接口也可以相互继承</span></span><br><span class="line"><span class="keyword">interface</span> Per <span class="keyword">extends</span> Ani &#123;</span><br><span class="line">  work(): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> Programmer &#123;</span><br><span class="line">  name: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  coding(code: <span class="built_in">string</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + code);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//集成父类+实现接口</span></span><br><span class="line"><span class="keyword">class</span> Web1 <span class="keyword">extends</span> Programmer <span class="keyword">implements</span> Per &#123;</span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="keyword">super</span>(name);</span><br><span class="line">  &#125;</span><br><span class="line">  eat() &#123;&#125;</span><br><span class="line">  work() &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="五-typescript-泛型"><a href="#五-typescript-泛型" class="headerlink" title="五 typescript 泛型"></a>五 typescript 泛型</h5><p><strong>1 泛型函数</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//泛型就是解决类\接口\方法的复用性 以及对不特定数据类型的支持</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getData</span>(<span class="params">value: <span class="built_in">string</span></span>): <span class="title">string</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//如果要传入什么类型,返回什么类型,就要使用到泛型</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getData1</span>&lt;<span class="title">T</span>&gt;(<span class="params">value: T</span>): <span class="title">T</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br><span class="line">getData1&lt;<span class="built_in">number</span>&gt;(<span class="number">123</span>);</span><br><span class="line">getData1&lt;<span class="built_in">string</span>&gt;(<span class="string">"abc"</span>);</span><br></pre></td></tr></table></figure><p><strong>2 泛型类</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//(原始)</span></span><br><span class="line"><span class="keyword">class</span> MinClass &#123;</span><br><span class="line">  list: <span class="built_in">number</span>[] = [];</span><br><span class="line">  add(value: <span class="built_in">number</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.list.push(value);</span><br><span class="line">  &#125;</span><br><span class="line">  min(): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> min = <span class="keyword">this</span>.list[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.list.length; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (min &gt; <span class="keyword">this</span>.list[i]) &#123;</span><br><span class="line">        min = <span class="keyword">this</span>.list[i];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> min;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//(泛型)</span></span><br><span class="line"><span class="keyword">class</span> MinClass1&lt;T&gt; &#123;</span><br><span class="line">  <span class="keyword">public</span> list: T[] = [];</span><br><span class="line">  add(value: T): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.list.push(value);</span><br><span class="line">  &#125;</span><br><span class="line">  min(): T &#123;</span><br><span class="line">    <span class="keyword">let</span> min = <span class="keyword">this</span>.list[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.list.length; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (min &gt; <span class="keyword">this</span>.list[i]) &#123;</span><br><span class="line">        min = <span class="keyword">this</span>.list[i];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> min;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> m1 = <span class="keyword">new</span> MinClass1&lt;<span class="built_in">number</span>&gt;();</span><br><span class="line">m1.add(<span class="number">1</span>);</span><br><span class="line">m1.add(<span class="number">2</span>);</span><br><span class="line">m1.add(<span class="number">3</span>);</span><br><span class="line">alert(m1.min());</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> m2 = <span class="keyword">new</span> MinClass1&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">m2.add(<span class="string">"a"</span>);</span><br><span class="line">m2.add(<span class="string">"b"</span>);</span><br><span class="line">m2.add(<span class="string">"c"</span>);</span><br><span class="line">alert(m2.min());</span><br></pre></td></tr></table></figure><p><strong>3 泛型接口</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//(普通函数类型接口)</span></span><br><span class="line"><span class="keyword">interface</span> ConfigFn0 &#123;</span><br><span class="line">  (value1: <span class="built_in">string</span>, value2: <span class="built_in">string</span>): <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> setData0: ConfigFn0 = <span class="function"><span class="keyword">function</span>(<span class="params">value1: <span class="built_in">string</span>, value2: <span class="built_in">string</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> value1 + value2;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//泛型接口(写法1)</span></span><br><span class="line"><span class="keyword">interface</span> ConfigFn1 &#123;</span><br><span class="line">  &lt;T&gt;(value1: T): T;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> setData1: ConfigFn1 = <span class="function"><span class="keyword">function</span>&lt;<span class="title">T</span>&gt;(<span class="params">value: T</span>): <span class="title">T</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> value;</span><br><span class="line">&#125;;</span><br><span class="line">setData1 &lt; <span class="built_in">string</span> &gt; <span class="string">"abdc"</span>;</span><br><span class="line"><span class="comment">//泛型接口(写法2)</span></span><br><span class="line"><span class="keyword">interface</span> ConfigFn2&lt;T&gt; &#123;</span><br><span class="line">  (value1: T): T;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myGetData</span>&lt;<span class="title">T</span>&gt;(<span class="params">value: T</span>): <span class="title">T</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> myFn: ConfigFn2&lt;<span class="built_in">string</span>&gt; = myGetData;</span><br></pre></td></tr></table></figure><h5 id="六、其他补充"><a href="#六、其他补充" class="headerlink" title="六、其他补充"></a>六、其他补充</h5><p><strong>1、枚举类型</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> CardSuit &#123;</span><br><span class="line">  Clubs,</span><br><span class="line">  Diamonds,</span><br><span class="line">  Hearts,</span><br><span class="line">  Spades</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 简单的使用枚举类型</span></span><br><span class="line"><span class="keyword">let</span> Card = CardSuit.Clubs;</span><br><span class="line"><span class="comment">// 类型安全</span></span><br><span class="line">Card = <span class="string">'not a member of card suit'</span>; <span class="comment">// Error: string 不能赋值给 `CardSuit` 类型</span></span><br></pre></td></tr></table></figure><p><strong>2、联合类型</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">formatCommandline</span>(<span class="params">command: <span class="built_in">string</span>[] | <span class="built_in">string</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> line = <span class="string">""</span>;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> command === <span class="string">"string"</span>) &#123;</span><br><span class="line">    line = command.trim();</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    line = command.join(<span class="string">" "</span>).trim();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// Do stuff with line: string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> Square &#123;</span><br><span class="line">  kind: <span class="string">"square"</span>;</span><br><span class="line">  size: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> Rectangle &#123;</span><br><span class="line">  kind: <span class="string">"rectangle"</span>;</span><br><span class="line">  width: <span class="built_in">number</span>;</span><br><span class="line">  height: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Shape = Square | Rectangle;</span><br></pre></td></tr></table></figure><p><strong>3、交叉类型</strong><br>在 JavaScript 中， extend 是一种非常常见的模式，在这种模式中，你可以从两个对象中创建一个新对象，新对象会拥有着两个对象所有的功能。交叉类型可以让你安全的使用此种模式：</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">extend</span>&lt;<span class="title">T</span>, <span class="title">U</span>&gt;(<span class="params">first: T, second: U</span>): <span class="title">T</span> &amp; <span class="title">U</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> result = &lt;T &amp; U&gt;&#123;&#125;;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> id <span class="keyword">in</span> first) &#123;</span><br><span class="line">    (&lt;T&gt;result)[id] = first[id];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> id <span class="keyword">in</span> second) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!result.hasOwnProperty(id)) &#123;</span><br><span class="line">      (&lt;U&gt;result)[id] = second[id];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> x = extend(&#123; a: <span class="string">"hello"</span> &#125;, &#123; b: <span class="number">42</span> &#125;);</span><br><span class="line"><span class="comment">// 现在 x 拥有了 a 属性与 b 属性</span></span><br><span class="line"><span class="keyword">const</span> a = x.a;</span><br><span class="line"><span class="keyword">const</span> b = x.b;</span><br></pre></td></tr></table></figure><p><strong>4、元组类型</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> nameNumber: [<span class="built_in">string</span>, <span class="built_in">number</span>];</span><br><span class="line"><span class="comment">// Ok</span></span><br><span class="line">nameNumber = [<span class="string">"Jenny"</span>, <span class="number">221345</span>];</span><br><span class="line"><span class="comment">// Error</span></span><br><span class="line">nameNumber = [<span class="string">"Jenny"</span>, <span class="string">"221345"</span>];</span><br><span class="line"><span class="comment">// 将其与 TypeScript 中的解构一起使用：</span></span><br><span class="line"><span class="keyword">const</span> [name, num] = nameNumber;</span><br></pre></td></tr></table></figure><p><strong>5、类型别名</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> StrOrNum = <span class="built_in">string</span> | <span class="built_in">number</span>;</span><br><span class="line"><span class="comment">// 使用</span></span><br><span class="line"><span class="keyword">let</span> sample: StrOrNum;</span><br><span class="line">sample = <span class="number">123</span>;</span><br><span class="line">sample = <span class="string">"123"</span>;</span><br><span class="line"><span class="comment">// 会检查类型</span></span><br><span class="line">sample = <span class="literal">true</span>; <span class="comment">// Error</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Text = <span class="built_in">string</span> | &#123; text: <span class="built_in">string</span> &#125;;</span><br><span class="line"><span class="keyword">type</span> Coordinates = [<span class="built_in">number</span>, <span class="built_in">number</span>];</span><br><span class="line"><span class="keyword">type</span> Callback = <span class="function">(<span class="params">data: <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">void</span>;</span><br></pre></td></tr></table></figure><p><strong><em>tips</em></strong><br>如果你需要使用类型注解的层次结构，请使用接口。它能使用 implements 和 extends<br>为一个简单的对象类型（像例子中的 Coordinates）使用类型别名，仅仅有一个语义化的作用。与此相似，当你想给一个联合类型和交叉类型使用一个语意化的名称时，一个类型别名将会是一个好的选择。</p><p><strong>6、类型断言</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> foo = &#123;&#125;;</span><br><span class="line">foo.bar = <span class="number">123</span>; <span class="comment">// Error: 'bar' 属性不存在于 ‘&#123;&#125;’</span></span><br><span class="line">foo.bas = <span class="string">"hello"</span>; <span class="comment">// Error: 'bas' 属性不存在于 '&#123;&#125;'</span></span><br><span class="line"><span class="comment">// 这里的代码发出了错误警告，因为 foo 的类型推断为 &#123;&#125;，即是具有零属性的对象。因此，你不能在它的属性上添加 bar 或 bas</span></span><br><span class="line"><span class="keyword">interface</span> Foo &#123;</span><br><span class="line">  bar: <span class="built_in">number</span>;</span><br><span class="line">  bas: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> foo = &#123;&#125; <span class="keyword">as</span> Foo;</span><br><span class="line">foo.bar = <span class="number">123</span>;</span><br><span class="line">foo.bas = <span class="string">"hello"</span>;</span><br></pre></td></tr></table></figure><p>双重断言</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handler</span>(<span class="params">event: Event</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> element = event <span class="keyword">as</span> HTMLElement; <span class="comment">// Error: 'Event' 和 'HTMLElement' 中的任何一个都不能赋值给另外一个</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//如果你仍然想使用那个类型，你可以使用双重断言。首先断言成兼容所有类型的 any，编译器将不会报错：</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handler</span>(<span class="params">event: Event</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> element = (event <span class="keyword">as</span> <span class="built_in">any</span>) <span class="keyword">as</span> HTMLElement; <span class="comment">// ok</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>7、类型保护</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSome</span>(<span class="params">x: <span class="built_in">number</span> | <span class="built_in">string</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> x === <span class="string">"string"</span>) &#123;</span><br><span class="line">    <span class="comment">// 在这个块中，TypeScript 知道 `x` 的类型必须是 `string`</span></span><br><span class="line">    <span class="built_in">console</span>.log(x.subtr(<span class="number">1</span>)); <span class="comment">// Error: 'subtr' 方法并没有存在于 `string` 上</span></span><br><span class="line">    <span class="built_in">console</span>.log(x.substr(<span class="number">1</span>)); <span class="comment">// ok</span></span><br><span class="line">  &#125;</span><br><span class="line">  x.substr(<span class="number">1</span>); <span class="comment">// Error: 无法保证 `x` 是 `string` 类型</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doStuff</span>(<span class="params">arg: Foo | Bar</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (arg <span class="keyword">instanceof</span> Foo) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arg.foo); <span class="comment">// ok</span></span><br><span class="line">    <span class="built_in">console</span>.log(arg.bar); <span class="comment">// Error</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (arg <span class="keyword">instanceof</span> Bar) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arg.foo); <span class="comment">// Error</span></span><br><span class="line">    <span class="built_in">console</span>.log(arg.bar); <span class="comment">// ok</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doStuff</span>(<span class="params">arg: Foo | Bar</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (arg <span class="keyword">instanceof</span> Foo) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arg.foo); <span class="comment">// ok</span></span><br><span class="line">    <span class="built_in">console</span>.log(arg.bar); <span class="comment">// Error</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 这个块中，一定是 'Bar'</span></span><br><span class="line">    <span class="built_in">console</span>.log(arg.foo); <span class="comment">// Error</span></span><br><span class="line">    <span class="built_in">console</span>.log(arg.bar); <span class="comment">// ok</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doStuff</span>(<span class="params">q: A | B</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="string">"x"</span> <span class="keyword">in</span> q) &#123;</span><br><span class="line">    <span class="comment">// q: A</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// q: B</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doStuff</span>(<span class="params">arg: Foo | Bar</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (arg.kind === <span class="string">"foo"</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arg.foo); <span class="comment">// ok</span></span><br><span class="line">    <span class="built_in">console</span>.log(arg.bar); <span class="comment">// Error</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 一定是 Bar</span></span><br><span class="line">    <span class="built_in">console</span>.log(arg.foo); <span class="comment">// Error</span></span><br><span class="line">    <span class="built_in">console</span>.log(arg.bar); <span class="comment">// ok</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>8、自变量类型</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> CardinalDirection = <span class="string">"North"</span> | <span class="string">"East"</span> | <span class="string">"South"</span> | <span class="string">"West"</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params">distance: <span class="built_in">number</span>, direction: CardinalDirection</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line">move(<span class="number">1</span>, <span class="string">"North"</span>); <span class="comment">// ok</span></span><br><span class="line">move(<span class="number">1</span>, <span class="string">"Nurth"</span>); <span class="comment">// Error</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> OneToFive = <span class="number">1</span> | <span class="number">2</span> | <span class="number">3</span> | <span class="number">4</span> | <span class="number">5</span>;</span><br><span class="line"><span class="keyword">type</span> Bools = <span class="literal">true</span> | <span class="literal">false</span>;</span><br></pre></td></tr></table></figure><p><strong>使用用例</strong></p><p>TypeScript 枚举类型是基于数字的，你可以使用带字符串字面量的联合类型，来模拟一个基于字符串的枚举类型，就好像上文中提出的 CardinalDirection。你甚至可以使用下面的函数来生成 key: value 的结构：<br>// 用于创建字符串列表映射至 <code>K: V</code> 的函数</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 用于创建字符串列表映射至 `K: V` 的函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">strEnum</span>&lt;<span class="title">T</span> <span class="title">extends</span> <span class="title">string</span>&gt;(<span class="params">o: <span class="built_in">Array</span>&lt;T&gt;</span>): </span>&#123; [K <span class="keyword">in</span> T]: K &#125; &#123;</span><br><span class="line">  <span class="keyword">return</span> o.reduce(<span class="function">(<span class="params">res, key</span>) =&gt;</span> &#123;</span><br><span class="line">    res[key] = key;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;, <span class="built_in">Object</span>.create(<span class="literal">null</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 创建 K: V</span></span><br><span class="line"><span class="keyword">const</span> Direction = strEnum([<span class="string">"North"</span>, <span class="string">"South"</span>, <span class="string">"East"</span>, <span class="string">"West"</span>]);</span><br><span class="line"><span class="comment">// 创建一个类型</span></span><br><span class="line"><span class="keyword">type</span> Direction = keyof <span class="keyword">typeof</span> Direction;</span><br><span class="line"><span class="comment">// 简单的使用</span></span><br><span class="line"><span class="keyword">let</span> sample: Direction;</span><br><span class="line">sample = Direction.North; <span class="comment">// Okay</span></span><br><span class="line">sample = <span class="string">"North"</span>; <span class="comment">// Okay</span></span><br><span class="line">sample = <span class="string">"AnythingElse"</span>; <span class="comment">// ERROR!</span></span><br></pre></td></tr></table></figure><p><strong>9、readonly</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">config: &#123; readonly bar: <span class="built_in">number</span>; readonly bas: <span class="built_in">number</span> &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ..</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> Foo = &#123;</span><br><span class="line">  readonly bar: <span class="built_in">number</span>;</span><br><span class="line">  readonly bas: <span class="built_in">number</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> Foo &#123;</span><br><span class="line">  readonly bar = <span class="number">1</span>; <span class="comment">// OK</span></span><br><span class="line">  readonly baz: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.baz = <span class="string">"hello"</span>; <span class="comment">// OK</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这有一个 Readonly 的映射类型，它接收一个泛型 T，用来把它的所有属性标记为只读类型：</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Foo = &#123;</span><br><span class="line">  bar: <span class="built_in">number</span>;</span><br><span class="line">  bas: <span class="built_in">number</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">type</span> FooReadonly = Readonly&lt;Foo&gt;;</span><br><span class="line"><span class="keyword">const</span> foo: Foo = &#123; bar: <span class="number">123</span>, bas: <span class="number">456</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> fooReadonly: FooReadonly = &#123; bar: <span class="number">123</span>, bas: <span class="number">456</span> &#125;;</span><br><span class="line">foo.bar = <span class="number">456</span>; <span class="comment">// ok</span></span><br><span class="line">fooReadonly.bar = <span class="number">456</span>; <span class="comment">// Error: bar 属性只读</span></span><br></pre></td></tr></table></figure><p><strong>设置为绝对的而不可变</strong></p><p>你甚至可以把索引签名标记为只读：</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Foo &#123;</span><br><span class="line">  readonly [x: <span class="built_in">number</span>]: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 使用</span></span><br><span class="line"><span class="keyword">const</span> foo: Foo = &#123; <span class="number">0</span>: <span class="number">123</span>, <span class="number">2</span>: <span class="number">345</span> &#125;;</span><br><span class="line"><span class="built_in">console</span>.log(foo[<span class="number">0</span>]); <span class="comment">// ok（读取）</span></span><br><span class="line">foo[<span class="number">0</span>] = <span class="number">456</span>; <span class="comment">// Error: 属性只读</span></span><br></pre></td></tr></table></figure><p><strong>自动推断</strong></p><p>在一些情况下，编译器能把一些特定的属性推断为 readonly，例如在一个 class 中，如果你有一个只含有 getter 但是没有 setter 的属性，他能被推断为只读：</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Person &#123;</span><br><span class="line">  firstName: <span class="built_in">string</span> = <span class="string">"John"</span>;</span><br><span class="line">  lastName: <span class="built_in">string</span> = <span class="string">"Doe"</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">get</span> fullName() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.firstName + <span class="keyword">this</span>.lastName;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> person = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="built_in">console</span>.log(person.fullName); <span class="comment">// John Doe</span></span><br><span class="line">person.fullName = <span class="string">"Dear Reader"</span>; <span class="comment">// Error, fullName 只读</span></span><br></pre></td></tr></table></figure><p><em>readonly 与 const 的不同点</em><br>const 用于变量；变量不能重新赋值给其他任何事物。<br>readonly 用于属性；用于别名，可以修改属性；</p><p><strong>10、详解泛型</strong></p><p><strong>使用泛型</strong></p><p>例如当你想创建一个字符串的队列时，你将不得不再次修改相当大的代码。我们真正想要的一种方式是无论什么类型被推入队列，被推出的类型都与推入类型一样。当你使用泛型时，这会很容易：</p><p>// 创建一个泛型类</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个泛型类</span></span><br><span class="line"><span class="keyword">class</span> Queue&lt;T&gt; &#123;</span><br><span class="line">  <span class="keyword">private</span> data: T[] = [];</span><br><span class="line">  push = <span class="function">(<span class="params">item: T</span>) =&gt;</span> <span class="keyword">this</span>.data.push(item);</span><br><span class="line">  pop = (): T | <span class="function"><span class="params">undefined</span> =&gt;</span> <span class="keyword">this</span>.data.shift();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 简单的使用</span></span><br><span class="line"><span class="keyword">const</span> queue = <span class="keyword">new</span> Queue&lt;<span class="built_in">number</span>&gt;();</span><br><span class="line">queue.push(<span class="number">0</span>);</span><br><span class="line">queue.push(<span class="string">"1"</span>); <span class="comment">// Error：不能推入一个 `string`，只有 number 类型被允许</span></span><br></pre></td></tr></table></figure><p><strong>tip:</strong><br>你可以随意调用泛型参数，当你使用简单的泛型时，泛型常用 T、U、V 表示。如果在你的参数里，不止拥有一个泛型，你应该使用一个更语义化名称，如 TKey 和 TValue （通常情况下，以 T 做为泛型前缀也在如 C++ 的其他语言里做为模版。）</p><h6 id="七、高级特性"><a href="#七、高级特性" class="headerlink" title="七、高级特性"></a>七、高级特性</h6><p><strong>1、类型断言</strong><br>TypeScript 允许你覆盖它的推断，并且能以你任何你想要的方式分析它，这种机制被称为「类型断言」。TypeScript 类型断言用来告诉编译器你比它更了解这个类型，并且它不应该再发出错误。</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Foo &#123;</span><br><span class="line">  bar: <span class="built_in">number</span>;</span><br><span class="line">  bas: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> foo = &#123;&#125; <span class="keyword">as</span> Foo;</span><br><span class="line">foo.bar = <span class="number">123</span>;</span><br><span class="line">foo.bas = <span class="string">'hello'</span>;</span><br></pre></td></tr></table></figure><p><strong>双重断言</strong><br>类型断言，尽管我们已经证明了它并不是那么安全，但它也还是有用武之地。如下一个非常实用的例子所示，当使用者了解传入参数更具体的类型时，类型断言能按预期工作：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function handler(event: Event) &#123;</span><br><span class="line">  const element = event as HTMLElement; // Error: &apos;Event&apos; 和 &apos;HTMLElement&apos; 中的任何一个都不能赋值给另外一个</span><br><span class="line">&#125;</span><br><span class="line">function handler(event: Event) &#123;</span><br><span class="line">  const element = (event as any) as HTMLElement; // ok</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>TypeScript 是怎么确定单个断言是否足够:</p><p>当 S 类型是 T 类型的子集，或者 T 类型是 S 类型的子集时，S 能被成功断言成 T。这是为了在进行类型断言时提供额外的安全性，完全毫无根据的断言是危险的，如果你想这么做，你可以使用 any。</p><p><strong>2、Freshness</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">function logIfHasName(something: &#123; name?: string &#125;) &#123;</span><br><span class="line">  if (something.name) &#123;</span><br><span class="line">    console.log(something.name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const person = &#123; name: &apos;matt&apos;, job: &apos;being awesome&apos; &#125;;</span><br><span class="line">const animal = &#123; name: &apos;cow&apos;, diet: &apos;vegan, but has milk of own species&apos; &#125;;</span><br><span class="line"></span><br><span class="line">logIfHasName(person); // okay</span><br><span class="line">logIfHasName(animal); // okay</span><br><span class="line"></span><br><span class="line">logIfHasName(&#123; neme: &apos;I just misspelled name to neme&apos; &#125;); // Error: 对象字面量只能指定已知属性，`neme` 属性不存在。</span><br><span class="line"></span><br><span class="line">//允许额外的属性——一个类型能够包含索引签名，以明确表明可以使用额外的属性</span><br><span class="line">let x: &#123; foo: number, [x: string]: any &#125;;</span><br><span class="line">x = &#123; foo: 1, baz: 2 &#125;; // ok, &apos;baz&apos; 属性匹配于索引签名</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//案例：Facebook ReactJS 为对象的 Freshness 提供了一个很好的用例，通常在组件中，你只使用少量属性，而不是传入所有，来调用 setState</span><br><span class="line"></span><br><span class="line">// 假设</span><br><span class="line">interface State &#123;</span><br><span class="line">  foo: string;</span><br><span class="line">  bar: string;</span><br><span class="line">&#125;</span><br><span class="line">// 你可能想做：</span><br><span class="line">this.setState(&#123; foo: &apos;Hello&apos; &#125;); // Error: 没有属性 &apos;bar&apos;</span><br><span class="line">// 因为 state 包含 &apos;foo&apos; 与 &apos;bar&apos;，TypeScript 会强制你这么做：</span><br><span class="line">this.setState(&#123; foo: &apos;Hello&apos;, bar: this.state.bar &#125;);</span><br></pre></td></tr></table></figure><p><strong>3、类型保护</strong></p><p><strong>typeof</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function doSome(x: number | string) &#123;</span><br><span class="line">  if (typeof x === &apos;string&apos;) &#123;</span><br><span class="line">    // 在这个块中，TypeScript 知道 `x` 的类型必须是 `string`</span><br><span class="line">    console.log(x.subtr(1)); // Error: &apos;subtr&apos; 方法并没有存在于 `string` 上</span><br><span class="line">    console.log(x.substr(1)); // ok</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  x.substr(1); // Error: 无法保证 `x` 是 `string` 类型</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>instanceof</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">class Foo &#123;</span><br><span class="line">  foo = 123;</span><br><span class="line">  common = &apos;123&apos;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Bar &#123;</span><br><span class="line">  bar = 123;</span><br><span class="line">  common = &apos;123&apos;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function doStuff(arg: Foo | Bar) &#123;</span><br><span class="line">  if (arg instanceof Foo) &#123;</span><br><span class="line">    console.log(arg.foo); // ok</span><br><span class="line">    console.log(arg.bar); // Error</span><br><span class="line">  &#125;</span><br><span class="line">  if (arg instanceof Bar) &#123;</span><br><span class="line">    console.log(arg.foo); // Error</span><br><span class="line">    console.log(arg.bar); // ok</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">doStuff(new Foo());</span><br><span class="line">doStuff(new Bar());</span><br></pre></td></tr></table></figure><p><strong>in</strong>（in 操作符可以安全的检查一个对象上是否存在一个属性）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">interface A &#123;</span><br><span class="line">  x: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface B &#123;</span><br><span class="line">  y: string;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function doStuff(q: A | B) &#123;</span><br><span class="line">  if (&apos;x&apos; in q) &#123;</span><br><span class="line">    // q: A</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    // q: B</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>字面量类型保护</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">type Foo = &#123;</span><br><span class="line">  kind: &apos;foo&apos;; // 字面量类型</span><br><span class="line">  foo: number;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">type Bar = &#123;</span><br><span class="line">  kind: &apos;bar&apos;; // 字面量类型</span><br><span class="line">  bar: number;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">function doStuff(arg: Foo | Bar) &#123;</span><br><span class="line">  if (arg.kind === &apos;foo&apos;) &#123;</span><br><span class="line">    console.log(arg.foo); // ok</span><br><span class="line">    console.log(arg.bar); // Error</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    // 一定是 Bar</span><br><span class="line">    console.log(arg.foo); // Error</span><br><span class="line">    console.log(arg.bar); // ok</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>使用定义的类型保护</strong></p><p>JavaScript 并没有内置非常丰富的、运行时的自我检查机制。当你在使用普通的 JavaScript 对象时（使用结构类型，更有益处），你甚至无法访问 instacneof 和 typeof。在这种情景下，你可以创建用户自定义的类型保护函数，这仅仅是一个返回值为类似于someArgumentName is SomeType 的函数</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">// 仅仅是一个 interface</span><br><span class="line">interface Foo &#123;</span><br><span class="line">  foo: number;</span><br><span class="line">  common: string;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface Bar &#123;</span><br><span class="line">  bar: number;</span><br><span class="line">  common: string;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 用户自己定义的类型保护！</span><br><span class="line">function isFoo(arg: Foo | Bar): arg is Foo &#123;</span><br><span class="line">  return (arg as Foo).foo !== undefined;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 用户自己定义的类型保护使用用例：</span><br><span class="line">function doStuff(arg: Foo | Bar) &#123;</span><br><span class="line">  if (isFoo(arg)) &#123;</span><br><span class="line">    console.log(arg.foo); // ok</span><br><span class="line">    console.log(arg.bar); // Error</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    console.log(arg.foo); // Error</span><br><span class="line">    console.log(arg.bar); // ok</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">doStuff(&#123; foo: 123, common: &apos;123&apos; &#125;);</span><br><span class="line">doStuff(&#123; bar: 123, common: &apos;123&apos; &#125;);</span><br></pre></td></tr></table></figure><p><strong>4、字面量类型</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">type CardinalDirection = &apos;North&apos; | &apos;East&apos; | &apos;South&apos; | &apos;West&apos;;</span><br><span class="line"></span><br><span class="line">function move(distance: number, direction: CardinalDirection) &#123;</span><br><span class="line">  // ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">move(1, &apos;North&apos;); // ok</span><br><span class="line">move(1, &apos;Nurth&apos;); // Error</span><br><span class="line"></span><br><span class="line">//其他字面量类型</span><br><span class="line">type OneToFive = 1 | 2 | 3 | 4 | 5;</span><br><span class="line">type Bools = true | false;</span><br><span class="line"></span><br><span class="line">//使用类型注解</span><br><span class="line">function iTakeFoo(foo: &apos;foo&apos;) &#123;&#125;</span><br><span class="line">type Test = &#123;</span><br><span class="line">  someProp: &apos;foo&apos;;</span><br><span class="line">&#125;;</span><br><span class="line">const test: Test = &#123;</span><br><span class="line">  // 推断 `someProp` 永远是 &apos;foo&apos;</span><br><span class="line">  someProp: &apos;foo&apos;</span><br><span class="line">&#125;;</span><br><span class="line">iTakeFoo(test.someProp); // ok</span><br></pre></td></tr></table></figure><p><strong>使用用例</strong><br>TypeScript 枚举类型是基于数字的，你可以使用带字符串字面量的联合类型，来模拟一个基于字符串的枚举类型，然后，你就可以使用 keyof、typeof 来生成字符串的联合类型</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">// 用于创建字符串列表映射至 `K: V` 的函数</span><br><span class="line">function strEnum&lt;T extends string&gt;(o: Array&lt;T&gt;): &#123; [K in T]: K &#125; &#123;</span><br><span class="line">  return o.reduce((res, key) =&gt; &#123;</span><br><span class="line">    res[key] = key;</span><br><span class="line">    return res;</span><br><span class="line">  &#125;, Object.create(null));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 创建 K: V</span><br><span class="line">const Direction = strEnum([&apos;North&apos;, &apos;South&apos;, &apos;East&apos;, &apos;West&apos;]);</span><br><span class="line"></span><br><span class="line">// 创建一个类型</span><br><span class="line">type Direction = keyof typeof Direction;</span><br><span class="line"></span><br><span class="line">// 简单的使用</span><br><span class="line">let sample: Direction;</span><br><span class="line"></span><br><span class="line">sample = Direction.North; // Okay</span><br><span class="line">sample = &apos;North&apos;; // Okay</span><br><span class="line">sample = &apos;AnythingElse&apos;; // ERROR!</span><br></pre></td></tr></table></figure><p><strong>5、控制只读</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">//函数参数只读</span><br><span class="line">function foo(config: &#123; readonly bar: number, readonly bas: number &#125;) &#123;</span><br><span class="line">  // ..</span><br><span class="line">&#125;</span><br><span class="line">const config = &#123; bar: 123, bas: 123 &#125;;</span><br><span class="line">foo(config);// 现在你能够确保 &apos;config&apos; 不能够被改变了</span><br><span class="line"></span><br><span class="line">//interface或type只读</span><br><span class="line">type Foo = &#123;</span><br><span class="line">  readonly bar: number;</span><br><span class="line">  readonly bas: number;</span><br><span class="line">&#125;;</span><br><span class="line">const foo: Foo = &#123; bar: 123, bas: 456 &#125;;// 不能被改变</span><br><span class="line">foo.bar = 456; // Error: foo.bar 为仅读属性</span><br><span class="line"></span><br><span class="line">//class类只读</span><br><span class="line">class Foo &#123;</span><br><span class="line">  readonly bar = 1; // OK</span><br><span class="line">  readonly baz: string;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    this.baz = &apos;hello&apos;; // OK</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//这有一个 Readonly 的映射类型，它接收一个泛型 T，用来把它的所有属性标记为只读类型：</span><br><span class="line">type Foo = &#123;</span><br><span class="line">  bar: number;</span><br><span class="line">  bas: number;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">type FooReadonly = Readonly&lt;Foo&gt;;</span><br><span class="line"></span><br><span class="line">const foo: Foo = &#123; bar: 123, bas: 456 &#125;;</span><br><span class="line">const fooReadonly: FooReadonly = &#123; bar: 123, bas: 456 &#125;;</span><br><span class="line"></span><br><span class="line">foo.bar = 456; // ok</span><br><span class="line">fooReadonly.bar = 456; // Error: bar 属性只读</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//绝对的不可变</span><br><span class="line">interface Foo &#123;</span><br><span class="line">  readonly [x: number]: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 使用</span><br><span class="line">const foo: Foo = &#123; 0: 123, 2: 345 &#125;;</span><br><span class="line">console.log(foo[0]); // ok（读取）</span><br><span class="line">foo[0] = 456; // Error: 属性只读</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//自动推断为只读——在一些情况下，编译器能把一些特定的属性推断为 readonly，例如在一个 class 中，如果你有一个只含有 getter 但是没有 setter 的属性，他能被推断为只读</span><br><span class="line">class Person &#123;</span><br><span class="line">  firstName: string = &apos;John&apos;;</span><br><span class="line">  lastName: string = &apos;Doe&apos;;</span><br><span class="line"></span><br><span class="line">  get fullName() &#123;</span><br><span class="line">    return this.firstName + this.lastName;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const person = new Person();</span><br><span class="line"></span><br><span class="line">console.log(person.fullName); // John Doe</span><br><span class="line">person.fullName = &apos;Dear Reader&apos;; // Error, fullName 只读</span><br></pre></td></tr></table></figure><p><strong>对比：</strong></p><p>const</p><ul><li>用于变量；</li><li>变量不能重新赋值给其他任何事物。</li></ul><p>readonly</p><ul><li>用于属性；</li><li>用于别名，可以修改属性；</li></ul><p><strong>6、泛型</strong></p><p>设计泛型的关键目的是在成员之间提供有意义的约束，这些成员可以是：</p><ul><li>类的实例成员</li><li>类的方法</li><li>函数参数</li><li>函数返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 创建一个泛型类</span><br><span class="line">class Queue&lt;T&gt; &#123;</span><br><span class="line">  private data :T[] = [];</span><br><span class="line">  push = (item: T) =&gt; this.data.push(item);</span><br><span class="line">  pop = (): T | undefined =&gt; this.data.shift();</span><br><span class="line">&#125;</span><br><span class="line">// 简单的使用</span><br><span class="line">const queue = new Queue&lt;number&gt;();</span><br><span class="line">queue.push(0);</span><br><span class="line">queue.push(&apos;1&apos;); // Error：不能推入一个 `string`，只有 number 类型被允许</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function reverse&lt;T&gt;(items: T[]): T[] &#123;</span><br><span class="line">  const toreturn = [];</span><br><span class="line">  for (let i = items.length - 1; i &gt;= 0; i--) &#123;</span><br><span class="line">    toreturn.push(items[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  return toreturn;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const sample = [1, 2, 3];</span><br><span class="line">let reversed = reverse(sample);</span><br><span class="line"></span><br><span class="line">reversed[0] = &apos;1&apos;; // Error</span><br><span class="line">reversed = [&apos;1&apos;, &apos;2&apos;]; // Error</span><br><span class="line"></span><br><span class="line">reversed[0] = 1; // ok</span><br><span class="line">reversed = [1, 2]; // ok</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">class Utility &#123;</span><br><span class="line">  reverse&lt;T&gt;(items: T[]): T[] &#123;</span><br><span class="line">    const toreturn = [];</span><br><span class="line">    for (let i = items.length; i &gt;= 0; i--) &#123;</span><br><span class="line">      toreturn.push(items[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    return toreturn;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>你可以随意调用泛型参数，当你使用简单的泛型时，泛型常用 T、U、V 表示。如果在你的参数里，不止拥有一个泛型，你应该使用一个更语义化名称，如 TKey 和 TValue （通常情况下，以 T 做为泛型前缀也在如 C++ 的其他语言里做为模版。）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">//另一个明显的例子是，一个用于加载 json 返回值函数，它返回你任何传入类型的 Promise</span><br><span class="line">const getJSON = &lt;T&gt;(config: &#123; url: string; headers?: &#123; [key: string]: string &#125; &#125;): Promise&lt;T&gt; =&gt; &#123;</span><br><span class="line">  const fetchConfig = &#123;</span><br><span class="line">    method: &apos;GET&apos;,</span><br><span class="line">    Accept: &apos;application/json&apos;,</span><br><span class="line">    &apos;Content-Type&apos;: &apos;application/json&apos;,</span><br><span class="line">    ...(config.headers || &#123;&#125;)</span><br><span class="line">  &#125;;</span><br><span class="line">  return fetch(config.url, fetchConfig).then&lt;T&gt;(response =&gt; response.json());</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">//请注意，你仍然需要明显的注解任何你需要的类型，但是 getJSON&lt;T&gt; 的签名 config =&gt; Promise&lt;T&gt; 能够减少你一些关键的步骤（你不需要注解 loadUsers 的返回类型，因为它能够被推出来）</span><br><span class="line">type LoadUserResponse = &#123;</span><br><span class="line">  user: &#123;</span><br><span class="line">    name: string;</span><br><span class="line">    email: string;</span><br><span class="line">  &#125;[];</span><br><span class="line">&#125;;</span><br><span class="line">function loaderUser() &#123;</span><br><span class="line">  return getJSON&lt;LoadUserResponse&gt;(&#123; url: &apos;https://example.com/users&apos; &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>7、辨析联合类型</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">//原始辨析（根据属性值）</span><br><span class="line">interface Square &#123;</span><br><span class="line">  kind: &apos;square&apos;;</span><br><span class="line">  size: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface Rectangle &#123;</span><br><span class="line">  kind: &apos;rectangle&apos;;</span><br><span class="line">  width: number;</span><br><span class="line">  height: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 有人仅仅是添加了 `Circle` 类型</span><br><span class="line">// 我们可能希望 TypeScript 能在任何被需要的地方抛出错误</span><br><span class="line">interface Circle &#123;</span><br><span class="line">  kind: &apos;circle&apos;;</span><br><span class="line">  radius: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type Shape = Square | Rectangle | Circle;</span><br><span class="line"></span><br><span class="line">function area(s: Shape) &#123;</span><br><span class="line">  switch (s.kind) &#123;</span><br><span class="line">    case &apos;square&apos;:</span><br><span class="line">      return s.size * s.size;</span><br><span class="line">    case &apos;rectangle&apos;:</span><br><span class="line">      return s.width * s.height;</span><br><span class="line">    case &apos;circle&apos;:</span><br><span class="line">      return Math.PI * s.radius ** 2;</span><br><span class="line">    default:</span><br><span class="line">    //如果你使用 strictNullChecks 选项来做详细的检查，你应该返回 _exhaustiveCheck 变量（类型是 never），否则 TypeScript 可能会推断返回值为 undefined</span><br><span class="line">      const _exhaustiveCheck: never = s;</span><br><span class="line">      return _exhaustiveCheck;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>8、索引签名</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">const foo: &#123;</span><br><span class="line">  [index: string]: &#123; message: string &#125;;</span><br><span class="line">&#125; = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">// 储存的东西必须符合结构</span><br><span class="line">// ok</span><br><span class="line">foo[&apos;a&apos;] = &#123; message: &apos;some message&apos; &#125;;</span><br><span class="line"></span><br><span class="line">// Error, 必须包含 `message`</span><br><span class="line">foo[&apos;a&apos;] = &#123; messages: &apos;some message&apos; &#125;;</span><br><span class="line"></span><br><span class="line">// 读取时，也会有类型检查</span><br><span class="line">// ok</span><br><span class="line">foo[&apos;a&apos;].message;</span><br><span class="line"></span><br><span class="line">// Error: messages 不存在</span><br><span class="line">foo[&apos;a&apos;].messages;</span><br></pre></td></tr></table></figure><p>索引签名的名称（如：{ [index: string]: { message: string } } 里的 index ）除了可读性外，并没有任何意义。例如：如果有一个用户名，你可以使用 { username: string}: { message: string }，这有利于下一个开发者理解你的代码。</p><p><strong>所有成员都必须符合字符串的索引签名</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// ok</span><br><span class="line">interface Foo &#123;</span><br><span class="line">  [key: string]: number;</span><br><span class="line">  x: number;</span><br><span class="line">  y: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// Error</span><br><span class="line">interface Bar &#123;</span><br><span class="line">  [key: string]: number;</span><br><span class="line">  x: number;</span><br><span class="line">  y: string; // Error: y 属性必须为 number 类型</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>使用一组有限的字符串字面量</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">type Index = &apos;a&apos; | &apos;b&apos; | &apos;c&apos;;</span><br><span class="line">type FromIndex = &#123; [k in Index]?: number &#125;;</span><br><span class="line"></span><br><span class="line">const good: FromIndex = &#123; b: 1, c: 2 &#125;;</span><br><span class="line"></span><br><span class="line">// Error:</span><br><span class="line">// `&#123; b: 1, c: 2, d: 3 &#125;` 不能分配给 &apos;FromIndex&apos;</span><br><span class="line">// 对象字面量只能指定已知类型，&apos;d&apos; 不存在 &apos;FromIndex&apos; 类型上</span><br><span class="line">const bad: FromIndex = &#123; b: 1, c: 2, d: 3 &#125;;</span><br></pre></td></tr></table></figure><p><strong>同时拥有 string 和 number 类型的索引签名</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">interface ArrStr &#123;</span><br><span class="line">  [key: string]: string | number; // 必须包括所用成员类型</span><br><span class="line">  [index: number]: string; // 字符串索引类型的子级</span><br><span class="line"></span><br><span class="line">  // example</span><br><span class="line">  length: number;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>9、混合</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">// 所有 mixins 都需要</span><br><span class="line">type Constructor&lt;T = &#123;&#125;&gt; = new (...args: any[]) =&gt; T;</span><br><span class="line"></span><br><span class="line">/////////////</span><br><span class="line">// mixins 例子</span><br><span class="line">////////////</span><br><span class="line"></span><br><span class="line">// 添加属性的混合例子</span><br><span class="line">function TimesTamped&lt;TBase extends Constructor&gt;(Base: TBase) &#123;</span><br><span class="line">  return class extends Base &#123;</span><br><span class="line">    timestamp = Date.now();</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 添加属性和方法的混合例子</span><br><span class="line">function Activatable&lt;TBase extends Constructor&gt;(Base: TBase) &#123;</span><br><span class="line">  return class extends Base &#123;</span><br><span class="line">    isActivated = false;</span><br><span class="line"></span><br><span class="line">    activate() &#123;</span><br><span class="line">      this.isActivated = true;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    deactivate() &#123;</span><br><span class="line">      this.isActivated = false;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">///////////</span><br><span class="line">// 组合类</span><br><span class="line">///////////</span><br><span class="line"></span><br><span class="line">// 简答的类</span><br><span class="line">class User &#123;</span><br><span class="line">  name = &apos;&apos;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 添加 TimesTamped 的 User</span><br><span class="line">const TimestampedUser = TimesTamped(User);</span><br><span class="line"></span><br><span class="line">// Tina TimesTamped 和 Activatable 的类</span><br><span class="line">const TimestampedActivatableUser = TimesTamped(Activatable(User));</span><br><span class="line"></span><br><span class="line">//////////</span><br><span class="line">// 使用组合类</span><br><span class="line">//////////</span><br><span class="line"></span><br><span class="line">const timestampedUserExample = new TimestampedUser();</span><br><span class="line">console.log(timestampedUserExample.timestamp);</span><br><span class="line"></span><br><span class="line">const timestampedActivatableUserExample = new TimestampedActivatableUser();</span><br><span class="line">console.log(timestampedActivatableUserExample.timestamp);</span><br><span class="line">console.log(timestampedActivatableUserExample.isActivated);</span><br></pre></td></tr></table></figure><p><strong>TIP：</strong><br>「混合」是一个函数：<br>传入一个构造函数；<br>创建一个带有新功能，并且扩展构造函数的新类；<br>返回这个新类。</p></div><footer class="article-footer"><div class="post-share"><a href="javascript:;" id="share-sub" class="post-share-fab"><i class="fa fa-share-alt"></i></a><div class="post-share-list" id="share-list"><ul class="share-icons"><li><a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://localhost:4000/2019/07/29/typescript详解/&title=《typescript详解》 — blog&pic=/images/banner.jpg" data-title="微博"><i class="fa fa-weibo"></i></a></li><li><a class="weixin share-sns" id="wxFab" href="javascript:;" data-title="微信"><i class="fa fa-weixin"></i></a></li><li><a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://localhost:4000/2019/07/29/typescript详解/&title=《typescript详解》 — blog&source=一个专注前端智能化开发技术的网站" data-title="QQ"><i class="fa fa-qq"></i></a></li><li><a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/2019/07/29/typescript详解/" data-title="Facebook"><i class="fa fa-facebook"></i></a></li><li><a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《typescript详解》 — blog&url=http://localhost:4000/2019/07/29/typescript详解/&via=http://localhost:4000" data-title="Twitter"><i class="fa fa-twitter"></i></a></li><li><a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://localhost:4000/2019/07/29/typescript详解/" data-title="Google+"><i class="fa fa-google-plus"></i></a></li></ul></div></div><div class="post-modal wx-share" id="wxShare"><a class="close" href="javascript:;" id="wxShare-close">×</a><p>扫一扫，分享到微信</p><img src="//api.qrserver.com/v1/create-qr-code/?data=http://localhost:4000/2019/07/29/typescript详解/" alt="微信分享二维码"></div><div class="mask"></div><ul class="article-footer-menu"></ul></footer></div></article><aside class="post-toc-pos post-toc-top" id="post-toc"><nav class="post-toc-wrap"><ol class="post-toc"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#基本配置（自动编译）"><span class="post-toc-text">基本配置（自动编译）</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#一、typescript-的数据类型-存在类型校验"><span class="post-toc-text">一、typescript 的数据类型(存在类型校验)</span></a></li></ol><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#二、typescript-函数"><span class="post-toc-text">二、typescript 函数</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#三、typescript-中类"><span class="post-toc-text">三、typescript 中类</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#四、typescript-接口（定义标准）"><span class="post-toc-text">四、typescript 接口（定义标准）</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#五-typescript-泛型"><span class="post-toc-text">五 typescript 泛型</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#六、其他补充"><span class="post-toc-text">六、其他补充</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#七、高级特性"><span class="post-toc-text">七、高级特性</span></a></li></ol></li></ol></li></nav></aside><nav id="article-nav"><a href="/2019/07/31/英语/" id="article-nav-newer" class="article-nav-link-wrap"><span class="article-nav-title"><i class="fa fa-hand-o-left" aria-hidden="true"></i> 英语口语 </span></a><a href="/2019/07/27/公共库函数封装/" id="article-nav-older" class="article-nav-link-wrap"><span class="article-nav-title">公共库函数封装</span> <i class="fa fa-hand-o-right" aria-hidden="true"></i></a></nav><div id="lv-container" data-id="city" data-uid="MTAyMC81MDE5Mi8yNjY4Mg=="><script type="text/javascript">!function(e,t){var n,c=e.getElementsByTagName(t)[0];"function"!=typeof LivereTower&&((n=e.createElement(t)).src="https://cdn-city.livere.com/js/embed.dist.js",n.async=!0,c.parentNode.insertBefore(n,c))}(document,"script")</script><noscript>为正常使用来必力评论功能请激活JavaScript</noscript></div></section></div><footer id="footer"><div class="outer"><div id="footer-info" class="inner"><p>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="//github.com/wongminho/hexo-theme-miho" target="_blank">MiHo</a> &copy; 2020 Yang Pei<br></p></div></div></footer><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><script>var mihoConfig={root:"http://localhost:4000",animate:"true",isHome:"false",share:"true"}</script><div class="sidebar"><div id="sidebar-top"><span class="sidebar-top-icon"><i class="fa fa-angle-up"></i></span></div></div><div class="sidebar-menu-box" id="sidebar-menu-box"><div class="sidebar-menu-box-container"><div id="sidebar-menu-box-categories"><a class="category-link" href="/categories/AI/">AI</a><a class="category-link" href="/categories/CV/">CV</a><a class="category-link" href="/categories/ML/">ML</a><a class="category-link" href="/categories/NLP/">NLP</a><a class="category-link" href="/categories/专题/">专题</a><a class="category-link" href="/categories/前端/">前端</a><a class="category-link" href="/categories/感想/">感想</a><a class="category-link" href="/categories/源码/">源码</a><a class="category-link" href="/categories/计算机/">计算机</a><a class="category-link" href="/categories/语言/">语言</a></div><div id="sidebar-menu-box-tags"></div></div><a href="javascript:;" class="sidebar-menu-box-close">&times;</a></div>ß<div class="mobile-header-menu-nav" id="mobile-header-menu-nav"><div class="mobile-header-menu-container"><span class="title">Menus</span><ul class="mobile-header-menu-navbar"><li><a href="/"><i class="fa fa-home"></i><span>主页</span></a></li><li><a href="/categories/前端/"><i class="fa fa-前端"></i><span>前端</span></a></li><li><a href="/categories/源码/"><i class="fa fa-源码"></i><span>源码</span></a></li><li><a href="/categories/ML/"><i class="fa fa-ML"></i><span>ML</span></a></li><li><a href="/categories/CV/"><i class="fa fa-CV"></i><span>CV</span></a></li><li><a href="/categories/NLP/"><i class="fa fa-NLP"></i><span>NLP</span></a></li><li><a href="/categories/计算机/"><i class="fa fa-计算机"></i><span>计算机</span></a></li><li><a href="/categories/专题/"><i class="fa fa-专题"></i><span>专题</span></a></li><li><a href="/categories/感想/"><i class="fa fa-感想"></i><span>感想</span></a></li><li><a href="/categories/语言/"><i class="fa fa-语言"></i><span>语言</span></a></li></ul></div><div class="mobile-header-tag-container"><span class="title">Tags</span><div id="mobile-header-container-tags"></div></div></div><div class="search-wrap"><span class="search-close">&times;</span> <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back"><i class="icon icon-lg icon-chevron-left"></i> </a><input class="search-field" placeholder="Search..." id="keywords"> <a id="search-submit" href="javascript:;"><i class="fa fa-search"></i></a><div class="search-container" id="search-container"><ul class="search-result" id="search-result"></ul></div></div><div id="search-tpl"><li class="search-result-item"><a href="{url}" class="search-item-li"><span class="search-item-li-title" title="{title}">{title}</span></a></li></div><script src="/js/search.js"></script><script src="/js/main.js"></script><script src="//cdn.bootcss.com/particles.js/2.0.0/particles.min.js"></script><div id="particles"></div><script src="/js/particles.js"></script><link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css"><script src="//cdn.bootcss.com/scrollReveal.js/3.0.5/scrollreveal.js"></script><script src="/js/animate.js"></script><script src="/js/pop-img.js"></script><script>$(".article-entry p img").popImg()</script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({model:{jsonPath:"/live2dw/assets/Epsilon2.1.model.json"},display:{position:"right",width:150,height:300},mobile:{show:!1},log:!1,pluginJsPath:"lib/",pluginModelPath:"assets/",pluginRootPath:"live2dw/",tagMode:!1})</script></body>